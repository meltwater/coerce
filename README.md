# @meltwater/coerce

[![Build Status](https://cloud.drone.io/api/badges/meltwater/coerce/status.svg)](https://cloud.drone.io/meltwater/coerce)
A simple javascript package for type checking an object

# Install

```bash
npm i --save @meltwater/coerce
```

# Usage

```javascript
class ValidatedObject {
    constructor({ value }) {
        if(typeof value !== string) {
            throw new TypeError(`options.value must be a string. Provided value: ${value}`);
        }

        this.value = value;
        Object.freeze(this);
    }
}

const badValue = { value: 1234 };
coerce(badValue, ValidatedObject, 'Booooooom!');
// This will throw a TypeError with the message 'Booooooom!'

const goodValue = { value: 'so good' };
const typedValue = coerce(goodValue, ValidatedObject, 'Booooooom');
// This will return a new object that is an instanceof ValidatedObject with typedValue.value === 'so good'
```

# API reference

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

*   [coerce](#coerce)
    *   [Parameters](#parameters)
*   [coerceArray](#coercearray)
    *   [Parameters](#parameters-1)

## coerce

If `value` is an instance of `Type`, this function returns it.
Otherwise this function attempts to construct a new instance
`Type` using `value` as a constructor parameter.

### Parameters

*   `value` **any** The value to coerce
*   `Type` **any** The type to return the object as.
*   `message` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The error message if coercion fails

<!---->

*   Throws **[TypeError](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/TypeError)** If the value is not coercable.

Returns **any** Instance of provided Type

## coerceArray

Apply `coerce` to an array for a single type.

### Parameters

*   `values` **[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)\<any>** The array of values to coerce
*   `Type` **any** The type each object should be
*   `message` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The error message if coercion fails

<!---->

*   Throws **[TypeError](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/TypeError)** If `values` is not an array
*   Throws **[TypeError](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/TypeError)** One of the array values is not coercable.

Returns **[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)\<any>** Array of instances of provided `Type`
